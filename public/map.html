<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карта</title>
    <link rel="stylesheet" href="./css/out.css">
    <script src="https://api-maps.yandex.ru/2.1/?apikey=cfb17578-6c78-4dbc-9099-c50949c99d19&lang=ru_RU" type="text/javascript"></script>
</head>

<<<<<<< Updated upstream


<body class=" antialiased selection:bg-pink-500 selection:text-white"">
=======
<body class="font-sans antialiased">
>>>>>>> Stashed changes
    <div class="hidden right-3"></div>
    
    <!-- Toast Notification Container -->
    <div id="toastContainer" class="fixed top-20 right-4 z-1000 space-y-3 w-80"></div>
    
    <nav class="fixed top-0 w-full py-4 bg-black flex flex-row justify-between px-4 z-50 items-center">
        <div id="logo">
            <img src="./pictures/t2_Logo_White_CMYK.png" alt="t2" class="w-8 sm:w-13 h-auto">
        </div>

        <div class="flex bg-gray-300 rounded-lg overflow-hidden shadow-md relative px-0 sm:px-3 py-1 gap-4 sm:gap-8">
            <!-- Покрытие -->
            <div class="relative z-20">
                <input type="radio" name="navSwitch" id="coverage" class="hidden" checked>
                <label for="coverage" class="w-26 sm:w-30 text-center block text-base sm:text-lg text-black cursor-pointer px-2 sm:px-4 py-1 transition-colors duration-200 font-Rooftop">
                    Покрытие
                </label>
            </div>
            
            <!-- Отзывы -->
            <div class="relative z-20">
                <input type="radio" name="navSwitch" id="reviews" class="hidden">
                <label for="reviews" class="w-26 sm:w-30 text-center block text-base sm:text-lg text-black cursor-pointer px-2 sm:px-4 py-1 transition-colors duration-200 font-Rooftop">
                    Отзывы
                </label>
            </div>
            
            <!-- Индикатор выбора -->
            <div id="navIndicator" class="absolute h-full py-1 w-26 sm:w-30 rounded-lg top-0 left-4 z-10 transition-all duration-500"> 
                <div class="w-full h-full bg-white rounded-lg shadow-sm"></div>               
            </div>
        </div>

        <button id="login" onclick="window.location.href = '/loginPage';" class="text-base font-Halvar text-black bg-white rounded-lg px-3 py-1 hover:bg-gray-100">
            Войти
        </button>
    </nav>
    
    <div id="map" class="w-full h-screen"></div>
    
    <button id="addReviewBtn" class="fixed bottom-8 right-8 z-10 bg-black text-white px-6 py-3 rounded-xl shadow-lg hover:bg-gray-950 transition-colors 
    duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 font-Halvar">
        + Добавить отзыв
    </button>

    <div id="reviewModal" class="fixed inset-0 z-10 hidden items-center justify-center bg-white/1 backdrop-blur-sm">
        <div class="bg-white rounded-2xl p-8 w-full max-w-md mx-4 flex flex-col gap-4">

            <div class="flex items-center justify-between py-1">                 
                <div class="text-2xl font-Halvar text-gray-950">Оставить отзыв</div>
                <button id="closeModal" class="p-0">
                    <svg class="w-8 h-10 px-0" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path class="stroke-2 stroke-gray-500" d="M7.75732 7.75745L16.2426 16.2427" ></path>
                        <path class="stroke-2 stroke-gray-500" d="M16.2426 7.75745L7.75732 16.2427" ></path>
                    </svg>
                </button>
            </div>


            <div class="mb-6">
                <label class="text-lg block text-gray-500 mb-2 font-Rooftop">Ваш телефон</label>
                <div id="phoneNumberComment" class="flex flex-row gap-3 items-center text-3xl font-bold text-gray-950 text-center">
                </div>
            </div>
            
            <!-- Поле для отзыва -->
            <div class="mb-6">
                <label for="reviewText" class="text-lg block text-gray-500 mb-2 font-Rooftop">Ваш отзыв</label>
                <textarea id="reviewText" class="resize-none w-full h-50 px-4 py-3 border rounded-xl
                 focus:ring-2 focus:ring-gray-500 text-lg text-gray-950 p-2 font-semibold font-Rooftop
                 focus:border-transparent" placeholder="Напишите ваш отзыв здесь..." autosi></textarea>
            </div>

            <button id="startTest" class="w-full flex items-center justify-center text-xl font-semibold bg-black text-white py-3 rounded-xl hover:bg-gray-950 
            transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 font-Halvar">
                Пройти тест скорости
            </button>

            <div id="results" class="hidden space-y-3 text-left">
                <div class="flex justify-between">
                        <span class="font-semibold font-Rooftop">Скачивание:</span>
                        <div class="flex justify-between basis-1/2 ">
                            <span id="download-speed" class="font-bold font-Rooftop"></span>
                            <span> Mbps </span> 
                        </div>
                    </div>
                    <div class="flex justify-between">
                        <span class="font-semibold font-Rooftop">Отправка:</span>
                        <div class="flex justify-between basis-1/2 ">
                            <span id="upload-speed" class="font-bold font-Rooftop"></span>
                            <span> Mbps </span> 
                        </div>
                    </div>
                    <div class="flex justify-between">
                        <span class="font-semibold font-Rooftop">Пинг:</span>
                        <div class="flex justify-between basis-1/2">
                            <span id="ping" class="font-bold font-Rooftop"></span>
                            <span> ms </span> 
                        </div>
                    </div>
            </div>
            
            <!-- Кнопка отправки -->
            <button id="submitReview" class="w-full flex items-center justify-center text-xl font-semibold bg-black text-white py-3 rounded-xl hover:bg-gray-950 
            transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 font-Halvar">
                Отправить отзыв
            </button>
        </div>
    </div>

    <script id="balloonContent_template" type="text/x-handlebars-template">
        <div class="p-2 overflow-y-scroll h-auto ">
            <h3 class="font-bold mb-1">Отзыв</h3>
            <p class="mb-2">{{review_text}}</p>
            <p class="text-sm text-gray-600">Телефон: {{user.user_telephone}}</p>
            
            {{#if review_speed_test.download}}
                <div id="results" class=" space-y-3 text-left">
                    <div class="flex justify-between">
                        <span class="font-semibold font-Rooftop">Скачивание:</span>
                        <div class="flex justify-between basis-1/2">
                            <span id="download-speed" class="font-bold font-Rooftop">{{review_speed_test.download}}</span>
                            <span> Mbps </span> 
                        </div>
                    </div>
                    <div class="flex justify-between">
                        <span class="font-semibold font-Rooftop">Отправка:</span>
                        <div class="flex justify-between basis-1/2 ">
                            <span id="upload-speed" class="font-bold font-Rooftop">{{review_speed_test.upload}}</span>
                            <span> Mbps </span> 
                        </div>
                    </div>
                    <div class="flex justify-between">
                        <span class="font-semibold font-Rooftop">Пинг:</span>
                        <div class="flex justify-between basis-1/2">
                            <span id="ping" class="font-bold font-Rooftop">{{review_speed_test.ping}}</span>
                            <span> ms </span> 
                        </div>
                    </div>
                </div>
            {{else}}
                <div>Данные о скорости интернета отстутствуют.</div>
            {{/if}}
        </div>
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="./js/toggleButton.js"></script>
    <script src="./js/toasts.js" type="module"></script>
    <script src="/js/map.js" type="module"></script>
</body>
</html>