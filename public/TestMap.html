<!DOCTYPE html>
<html>
<head>
    <title>Пользовательский слой на Яндекс.Карте</title>
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"></script>
    <style>
        #map {
            width: 100%;
            height: 500px;
        }
        .checkboxes {
            margin: 10px;
        }
    </style>
</head>
<body>
    <div>
        <div class="checkboxes">
            <input type="checkbox" id="checkbox_2g" checked> 2G<br>
            <input type="checkbox" id="checkbox_3g" checked> 3G<br>
            <input type="checkbox" id="checkbox_4g" checked> 4G<br>
            <input type="checkbox" id="checkbox_lte450" checked> LTE450<br>
        </div>
        <div id="map"></div>
    </div>
    <script>
        ymaps.ready(init);

        var map;
        var layers = {};

        function init() {
            // Создание карты
            map = new ymaps.Map("map", {
                center: [55.76, 37.64], // Координаты центра карты
                zoom: 10 // Уровень масштабирования
            });

            // Создание пользовательских слоев
            layers["2g"] = new ymaps.Layer('https://nnov.t2.ru/maps/_2g/%z/%x/%y.png', {
                tileTransparent: true, // Прозрачность тайлов
                notFoundTile: 'https://nnov.t2.ru/maps/_2g/empty.png' // Путь к изображению для отсутствующих тайлов
            });

            layers["3g"] = new ymaps.Layer('https://nnov.t2.ru/maps/_3g/%z/%x/%y.png', {
                tileTransparent: true,
                notFoundTile: 'https://nnov.t2.ru/maps/_2g/empty.png'
            });

            layers["4g"] = new ymaps.Layer('https://nnov.t2.ru/maps/_4g/%z/%x/%y.png', {
                tileTransparent: true,
                notFoundTile: 'https://nnov.t2.ru/maps/_2g/empty.png'
            });

            layers["lte450"] = new ymaps.Layer('https://nnov.t2.ru/maps/_skylink/%z/%x/%y.png', {
                tileTransparent: true,
                notFoundTile: 'https://nnov.t2.ru/maps/_2g/empty.png'
            });

            // Добавляем все слои на карту
            for (var key in layers) {
                map.layers.add(layers[key]);
            }

            // Обработчик изменений в чекбоксах
            document.getElementById("checkbox_2g").addEventListener("change", toggleLayer);
            document.getElementById("checkbox_3g").addEventListener("change", toggleLayer);
            document.getElementById("checkbox_4g").addEventListener("change", toggleLayer);
            document.getElementById("checkbox_lte450").addEventListener("change", toggleLayer);
        }

        // Функция для включения/выключения слоев
        function toggleLayer() {
            if (document.getElementById("checkbox_2g").checked) {
                map.layers.add(layers["2g"]);
            } else {
                map.layers.remove(layers["2g"]);
            }

            if (document.getElementById("checkbox_3g").checked) {
                map.layers.add(layers["3g"]);
            } else {
                map.layers.remove(layers["3g"]);
            }

            if (document.getElementById("checkbox_4g").checked) {
                map.layers.add(layers["4g"]);
            } else {
                map.layers.remove(layers["4g"]);
            }

            if (document.getElementById("checkbox_lte450").checked) {
                map.layers.add(layers["lte450"]);
            } else {
                map.layers.remove(layers["lte450"]);
            }
        }
    </script>
</body>
</html>
